---
description: TypeScript ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ãƒ»å‹å®‰å…¨æ€§ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
globs: ["**/*.ts", "**/*.tsx"]
alwaysApply: true
---

# TypeScript ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

## ğŸ¯ åŸºæœ¬æ–¹é‡

### å¿…é ˆãƒ«ãƒ¼ãƒ«
- **å³å¯†ãƒ¢ãƒ¼ãƒ‰**: `strict: true` ã‚’ä½¿ç”¨
- **å‹å®‰å…¨æ€§**: å‹å®šç¾©ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°
- **`any`å‹ç¦æ­¢**: å…·ä½“çš„ãªå‹ã‚’å®šç¾©
- **éåŒæœŸå‡¦ç†**: `async/await` ã‚’ä½¿ç”¨ã€`.then()` ãƒã‚§ãƒ¼ãƒ³ç¦æ­¢

### æ¨å¥¨ãƒ«ãƒ¼ãƒ«
- **ä¸å¤‰æ€§**: `const` ã‚’å„ªå…ˆã€`let` ã¯æœ€å°é™
- **ç´”ç²‹é–¢æ•°**: å‰¯ä½œç”¨ã‚’æœ€å°åŒ–
- **å‹æ¨è«–**: æ˜ã‚‰ã‹ãªå ´åˆã¯å‹çœç•¥å¯èƒ½

## ğŸ“ å‹å®šç¾©

### âœ… è‰¯ã„ä¾‹
```typescript
// é–¢æ•°ã®å‹å®šç¾©
function processTask(task: Task): Promise<ProcessedTask> {
  return processTaskAsync(task);
}

// ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
interface UserProps {
  id: string;
  username: string;
  email: string;
  accessToken: string;
}

// ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹
function createResponse<T>(data: T): ApiResponse<T> {
  return { success: true, data };
}
```

### âŒ æ‚ªã„ä¾‹
```typescript
// anyå‹ã®ä½¿ç”¨
function processTask(task: any): any {
  return processTaskAsync(task);
}

// å‹å®šç¾©ä¸è¶³
function getData(id) {
  return fetch(`/api/${id}`);
}

// è¤‡é›‘ãªå‹ã®çœç•¥
const result = someComplexOperation();
```

## ğŸ”§ é–¢æ•°å®šç¾©

### åŸºæœ¬ãƒ«ãƒ¼ãƒ«
- **æˆ»ã‚Šå€¤ã®å‹**: æ˜ç¤ºçš„ã«å®šç¾©
- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹**: å…¨ã¦æ˜ç¤ºçš„ã«å®šç¾©
- **ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¼•æ•°**: æœ€å¾Œã«é…ç½®

### ä¾‹
```typescript
// åŸºæœ¬çš„ãªé–¢æ•°
async function getTask(
  taskId: string, 
  includeSubtasks?: boolean
): Promise<Task> {
  // å®Ÿè£…
}

// é«˜éšé–¢æ•°
function createApiClient<T>(
  baseUrl: string,
  transformer: (data: unknown) => T
): ApiClient<T> {
  // å®Ÿè£…
}

// ã‚¢ãƒ­ãƒ¼é–¢æ•°
const formatData = (data: RawData): FormattedData => {
  return {
    id: data.id,
    name: data.name,
    createdAt: new Date(data.created_at)
  };
};
```

## ğŸ“¦ ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

### ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¦ç´„
```typescript
// å‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import type { ServiceDependencies, UserProps } from "#/types";

// é€šå¸¸ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { ClickUpAuth } from "#/auth/user";
import { createResponse } from "#/utils/response";

// ãƒ‘ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ä½¿ç”¨
import { API_CONFIG } from "#/config";
```

### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¦ç´„
```typescript
// åå‰ä»˜ãã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰
export function createApiClient(): ApiClient { }
export class UserService { }
export interface ApiResponse<T> { }

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆå¿…è¦ãªå ´åˆã®ã¿ï¼‰
export default class MainService { }
```

## ğŸ›¡ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### çµ±ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// APIå‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³
async function fetchUserData(id: string): Promise<User> {
  try {
    const response = await fetch(`/api/users/${id}`);
    
    if (!response.ok) {
      throw new Error(`ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—å¤±æ•—: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
    throw error instanceof Error 
      ? error 
      : new Error('äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
  }
}

// ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹
class ApiError extends Error {
  constructor(
    message: string,
    public statusCode: number,
    public code?: string
  ) {
    super(message);
    this.name = 'ApiError';
  }
}
```

## ğŸ—ï¸ ã‚¯ãƒ©ã‚¹è¨­è¨ˆ

### åŸºæœ¬æ§‹é€ 
```typescript
// ä¾å­˜æ€§æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³
export class UserService {
  private readonly apiClient: ApiClient;
  
  constructor(
    private readonly deps: ServiceDependencies
  ) {
    this.apiClient = new ApiClient(deps.config);
  }
  
  async getUser(id: string): Promise<User> {
    // å®Ÿè£…
  }
  
  private validateUserId(id: string): void {
    if (!id || typeof id !== 'string') {
      throw new Error('æœ‰åŠ¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒå¿…è¦ã§ã™');
    }
  }
}
```

### ã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­
- **public**: å¤–éƒ¨ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- **private**: ã‚¯ãƒ©ã‚¹å†…ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **protected**: ç¶™æ‰¿ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **readonly**: èª­ã¿å–ã‚Šå°‚ç”¨

## ğŸ”„ éåŒæœŸå‡¦ç†

### âœ… æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// async/await ä½¿ç”¨
async function fetchMultipleData(): Promise<CombinedData> {
  try {
    const [users, tasks, projects] = await Promise.all([
      fetchUsers(),
      fetchTasks(),
      fetchProjects()
    ]);
    
    return combineData(users, tasks, projects);
  } catch (error) {
    throw new Error(`ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—: ${error}`);
  }
}

// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»˜ã
async function safeApiCall<T>(
  apiCall: () => Promise<T>,
  fallback: T
): Promise<T> {
  try {
    return await apiCall();
  } catch (error) {
    console.warn('APIå‘¼ã³å‡ºã—å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã‚’ä½¿ç”¨:', error);
    return fallback;
  }
}
```

### âŒ é¿ã‘ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// Promiseãƒã‚§ãƒ¼ãƒ³
function fetchData() {
  return fetch('/api/data')
    .then(response => response.json())
    .then(data => processData(data))
    .catch(error => handleError(error));
}

// æœªå‡¦ç†ã®Promise
function dangerousCall() {
  fetch('/api/data'); // awaitãªã—
}
```

## ğŸ¨ å‘½åè¦ç´„

### å¤‰æ•°ãƒ»é–¢æ•°
```typescript
// camelCase
const userName = 'john_doe';
const isAuthenticated = true;

// é–¢æ•°ã¯å‹•è©ã‹ã‚‰å§‹ã‚ã‚‹
function createUser(): User { }
function validateInput(): boolean { }
function getUserById(): User { }
```

### å‹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ»ã‚¯ãƒ©ã‚¹
```typescript
// PascalCase
interface UserData { }
class ApiClient { }
type ResponseType = 'success' | 'error';

// æ¥é ­è¾ã®ä½¿ç”¨
interface IUserService { }  // ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆä»»æ„ï¼‰
type TApiResponse<T> = { }   // å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆä»»æ„ï¼‰
```

### å®šæ•°
```typescript
// UPPER_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com';
const MAX_RETRY_COUNT = 3;

// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå®šæ•°
const CONFIG = {
  timeout: 5000,
  retryCount: 3
} as const;
```

## ğŸ“Š å‹ã‚¬ãƒ¼ãƒ‰ãƒ»ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³

### å‹ã‚¬ãƒ¼ãƒ‰
```typescript
// å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°
function isUser(obj: unknown): obj is User {
  return (
    typeof obj === 'object' &&
    obj !== null &&
    'id' in obj &&
    'name' in obj
  );
}

// ä½¿ç”¨ä¾‹
function processUserData(data: unknown): User {
  if (isUser(data)) {
    return data; // Userå‹ã¨ã—ã¦æ‰±ãˆã‚‹
  }
  throw new Error('ç„¡åŠ¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã§ã™');
}
```

### å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
```typescript
// å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ€å°é™ã®ä½¿ç”¨ï¼‰
const userElement = document.getElementById('user') as HTMLElement;

// ã‚ˆã‚Šå®‰å…¨ãªæ–¹æ³•
const userElement = document.getElementById('user');
if (userElement instanceof HTMLElement) {
  // å®‰å…¨ã«ä½¿ç”¨
}
```

## ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®

### åŠ¹ç‡çš„ãªã‚³ãƒ¼ãƒ‰
```typescript
// åˆ†å‰²ä»£å…¥
const { id, name, email } = user;

// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­
const updatedUser = { ...user, isActive: true };

// é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰
const activeUsers = users.filter(user => user.isActive);
const userNames = users.map(user => user.name);

// ä¸¦åˆ—å‡¦ç†
const results = await Promise.all([
  fetchUsers(),
  fetchTasks()
]);
```

## ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ã‚³ãƒ¼ãƒ‰å“è³ª
- [ ] å…¨ã¦ã®é–¢æ•°ã«å‹å®šç¾©ãŒã‚ã‚‹
- [ ] `any`å‹ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒé©åˆ‡
- [ ] éåŒæœŸå‡¦ç†ã§async/awaitã‚’ä½¿ç”¨
- [ ] å‘½åè¦ç´„ã«å¾“ã£ã¦ã„ã‚‹
- [ ] å‹ã‚¬ãƒ¼ãƒ‰ã‚’é©åˆ‡ã«ä½¿ç”¨

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- [ ] ä¸è¦ãªre-renderã‚’é¿ã‘ã¦ã„ã‚‹
- [ ] å¤§ããªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸è¦ãªã‚³ãƒ”ãƒ¼ã‚’é¿ã‘ã¦ã„ã‚‹
- [ ] ä¸¦åˆ—å‡¦ç†ã‚’æ´»ç”¨ã—ã¦ã„ã‚‹
- [ ] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’é˜²ã„ã§ã„ã‚‹

### ä¿å®ˆæ€§
- [ ] é–¢æ•°ãŒå˜ä¸€è²¬ä»»ã‚’æŒã£ã¦ã„ã‚‹
- [ ] é©åˆ‡ã«ã‚³ãƒ¡ãƒ³ãƒˆãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹
- [ ] å‹å®šç¾©ãŒå†åˆ©ç”¨å¯èƒ½
- [ ] ä¾å­˜é–¢ä¿‚ãŒæ˜ç¢º
