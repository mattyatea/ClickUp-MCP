---
description: é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»ç’°å¢ƒè¨­å®šãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ‰‹é †
globs: ["**/*"]
alwaysApply: true
---

# é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

## ğŸ“‹ å¿…é ˆãƒã‚§ãƒƒã‚¯ï¼ˆã‚³ãƒŸãƒƒãƒˆå‰ï¼‰

```bash
# 1. å‹ãƒã‚§ãƒƒã‚¯
pnpm type-check

# 2. ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
npx prettier --write .

# 3. å…¨ä½“ç¢ºèª
pnpm build  # æœ¬ç•ªãƒ“ãƒ«ãƒ‰ç¢ºèª
```

## ğŸš€ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼

```bash
# ãƒ¡ã‚¤ãƒ³é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆãƒãƒ¼ãƒˆ8788ï¼‰
pnpm dev

# ä»£æ›¿èµ·å‹•
pnpm start
```

## ğŸ”§ ç’°å¢ƒè¨­å®š

### å¿…è¦ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ
```bash
# OAuthèªè¨¼
npx wrangler secret put CLICKUP_CLIENT_ID
npx wrangler secret put CLICKUP_CLIENT_SECRET

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
npx wrangler secret put COOKIE_ENCRYPTION_KEY
```

### KV/Durable Objectsè¨­å®š
```bash
# KVãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ä½œæˆ
npx wrangler kv:namespace create "OAUTH_KV"

# KVç¢ºèª
npx wrangler kv:namespace list
```

### ç’°å¢ƒå¤‰æ•°ç¢ºèª
```bash
# è¨­å®šç¢ºèª
npx wrangler whoami
npx wrangler config list
```

## ğŸ“¦ ãƒ‡ãƒ—ãƒ­ã‚¤

### æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# å®‰å…¨ãªãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
pnpm type-check && pnpm build && pnpm deploy

# å¼·åˆ¶ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ³¨æ„ï¼‰
pnpm deploy --force
```

### ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œç¢ºèª
```bash
# ãƒ­ã‚°ç¢ºèª
npx wrangler logs --tail

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
npx wrangler deployments list
```

## ğŸ› ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒ­ã‚°

### ãƒ­ã‚°è¨­å®š
- **é–‹ç™ºç’°å¢ƒ**: `console.log`ä½¿ç”¨å¯èƒ½
- **æœ¬ç•ªç’°å¢ƒ**: é©åˆ‡ãªãƒ­ã‚°ãƒ¬ãƒ™ãƒ«è¨­å®š
- **æ©Ÿå¯†æƒ…å ±**: ãƒ­ã‚°ã«å«ã‚ãªã„
- **ã‚¨ãƒ©ãƒ¼æƒ…å ±**: è©³ç´°ã«è¨˜éŒ²

### ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«
```bash
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°
npx wrangler logs --tail

# ç‰¹å®šæœŸé–“ã®ãƒ­ã‚°
npx wrangler logs --since 2024-01-01

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
npx wrangler dev --local
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
src/
â”œâ”€â”€ index.ts              # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ config.ts             # è¨­å®šç®¡ç†
â”œâ”€â”€ types.ts              # å‹å®šç¾©
â”œâ”€â”€ handlers/             # ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ combined-handler.ts
â”‚   â”œâ”€â”€ oauth-handler.ts
â”‚   â””â”€â”€ site-handler.ts
â”œâ”€â”€ tools/                # MCPãƒ„ãƒ¼ãƒ«å®Ÿè£…
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ task.ts
â”‚   â””â”€â”€ search.ts
â”œâ”€â”€ api/                  # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ basic.ts
â”‚   â”œâ”€â”€ search.ts
â”‚   â””â”€â”€ common/
â”œâ”€â”€ auth/                 # èªè¨¼é–¢é€£
â”‚   â””â”€â”€ user.ts
â””â”€â”€ utils/                # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    â””â”€â”€ formatters.ts
```

## ğŸ“ ã‚³ãƒŸãƒƒãƒˆè¦ç´„

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

### ã‚¿ã‚¤ãƒ—ä¸€è¦§
- **feat**: æ–°æ©Ÿèƒ½è¿½åŠ 
- **fix**: ãƒã‚°ä¿®æ­£
- **docs**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- **style**: ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç­‰ï¼‰
- **refactor**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- **test**: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- **chore**: ãã®ä»–ã®å¤‰æ›´ï¼ˆè¨­å®šã€ä¾å­˜é–¢ä¿‚ç­‰ï¼‰
- **perf**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
- **ci**: CI/CDé–¢é€£

### ä¾‹
```bash
git commit -m "feat(auth): OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼å®Ÿè£…"
git commit -m "fix(api): ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¿®æ­£"
git commit -m "docs(readme): ç’°å¢ƒè¨­å®šæ‰‹é †è¿½åŠ "
```

## ğŸ” å“è³ªç®¡ç†

### è‡ªå‹•ãƒã‚§ãƒƒã‚¯
```bash
# å‹ãƒã‚§ãƒƒã‚¯
pnpm type-check

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç¢ºèª
npx prettier --check .

# å…¨ä½“ãƒ“ãƒ«ãƒ‰
pnpm build
```

### æ‰‹å‹•ãƒã‚§ãƒƒã‚¯
- [ ] å…¨æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª
- [ ] èªè¨¼ãƒ•ãƒ­ãƒ¼ç¢ºèª
- [ ] APIå‘¼ã³å‡ºã—ç¢ºèª

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **å‹ã‚¨ãƒ©ãƒ¼**
   ```bash
   pnpm type-check
   # ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã—ã¦ä¿®æ­£
   ```

2. **èªè¨¼ã‚¨ãƒ©ãƒ¼**
   ```bash
   # ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå†è¨­å®š
   npx wrangler secret put CLICKUP_CLIENT_ID
   ```

3. **ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼**
   ```bash
   # è¨­å®šç¢ºèª
   npx wrangler whoami
   npx wrangler config list
   ```

4. **KVã‚¨ãƒ©ãƒ¼**
   ```bash
   # KVç¢ºèª
   npx wrangler kv:namespace list
   ```

### ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°åˆ†æ
```bash
# æœ€æ–°ã‚¨ãƒ©ãƒ¼ç¢ºèª
npx wrangler logs --tail | grep ERROR

# ç‰¹å®šæ™‚é–“ã®ã‚¨ãƒ©ãƒ¼
npx wrangler logs --since 1h | grep ERROR
```
